{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    body {
        font-family: "Cairo", sans-serif;
        margin: 0;
        background-color: #f5f7fb;
        color: #222;
        height: 100vh;
        overflow: hidden;
    }

    
    header {
        position: fixed;
        top: 0; left: 0; right: 0;
        height: 65px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: #ffffff;
        color: #1d4ed8;
        padding: 0 25px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        z-index: 10;
    }

    .logo { display: flex; align-items: center; gap: 10px; margin-left: 15px; }
    .logo img { width: 65px; height: 65px; }
    .logo h2 { font-size: 22px; font-weight: 700; color: #1d4ed8; }

    .user-info {
        display: flex; align-items: center; gap: 12px;
        padding: 5px 10px; border-radius: 12px; background: #e0e7ff;
    }
    .user-info img { width: 38px; height: 38px; border-radius: 50%; border: 2px solid #1d4ed8; }
    .user-info span { font-size: 16px; font-weight: 600; color: #1d4ed8; }
    .logout-btn { background: none; border: none; color: #dc2626; font-size: 20px; cursor: pointer; transition: 0.3s; margin-left: 8px; }
    .logout-btn:hover { color: #b91c1c; }

    
    .sidebar {
        position: fixed;
        top: 65px;
        right: 0;
        width: 230px;
        height: calc(100vh - 65px);
        background: linear-gradient(180deg, #0b1a3d, #122052);
        color: white;
        display: flex;
        flex-direction: column;
        align-items: start;
        padding-top: 25px;
        box-shadow: -3px 0 10px rgba(0,0,0,0.05);
    }

    .sidebar h3 { text-align: right; width: 100%; padding-right: 25px; margin-bottom: 25px; font-size: 18px; font-weight: 600; color: #f0f0f5; }
    .sidebar a { text-decoration: none; color: #f0f0f0; width: 100%; padding: 12px 25px; display: flex; align-items: center; gap: 10px; transition: all 0.3s ease; font-size: 16px; font-weight: 500; }
    .sidebar a i { font-size: 17px; }
    .sidebar a:hover { background-color: rgba(255,255,255,0.15); padding-right: 30px; border-radius: 8px; }

    .sidebar a.active {
        background-color: rgba(255, 255, 255, 0.25);
        border-right: 4px solid #60a5fa;
        padding-right: 30px;
        border-radius: 8px 0 0 8px;
        font-weight: 600;
        color: #ffffff;
    }

    
    .main-content { margin-right: 230px; margin-top: 80px; padding: 30px; height: calc(100vh - 80px); overflow-y: auto; }
    .main-content h1 { font-size: 26px; font-weight: 700; color: #1d4ed8; margin-bottom: 5px; }
    .main-content p { font-size: 16px; color: #555; margin-bottom: 25px; }

    .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(230px, 1fr)); gap: 25px; margin-bottom: 30px; }
    .card {
        position: relative;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.08);
        padding: 25px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card i { position: relative; font-size: 35px; z-index: 1; background: linear-gradient(135deg,#3b82f6,#60a5fa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
    .card h2 { font-size: 20px; font-weight: 600; color: #2563eb; margin-bottom: 10px; position: relative; z-index:1; }
    .card p { font-size: 24px; font-weight: 700; color: #1e40af; position: relative; z-index:1; }

    .charts { margin-top: 30px; background: #ffffff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); }
    .charts canvas { width: 100%; height: 200px; }

    .recent-activity { margin-top: 30px; background: #ffffff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); }
    .recent-activity h3 { font-size: 18px; font-weight: 600; color: #1d4ed8; margin-bottom: 15px; }
    .recent-activity table { width: 100%; border-collapse: collapse; }
    .recent-activity th, .recent-activity td { padding: 10px 15px; font-size: 16px; text-align: right; }
    .recent-activity th { background-color: #2563eb; color: #fff; font-weight: 600; border-radius: 8px 8px 0 0; }
    .recent-activity tr:nth-child(even) { background-color: #f5f7fb; }
    .recent-activity tr:hover { background-color: #e0e7ff; }
    .recent-activity td { border-bottom: 1px solid #ddd; }
</style>
</head>
<body>

<header>
    <div class="user-info">
        <img src="{% static 'images/user.png' %}" alt="User">
        <span>Ø¹Ø¨Ø¯Ø§Ù„Ù„Ø© Ø³ÙˆÙŠØ¨</span>
        <button class="logout-btn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
            <i class="fa-solid fa-right-from-bracket"></i>
        </button>
    </div>

    <div class="logo">
        <img src="{% static 'images/logoMisurataUni.png' %}" alt="Logo">
    </div>
</header>

<div class="sidebar">
    <h3>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
    <a href="{% url 'admin_dashbord' %}"
    class="{% if request.path == '/dashbord/' or request.path == '/' %}active{% endif %}">
        <i class="fa-solid fa-house"></i> Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>
    <a href="{% url 'materials_page' %}" class="{% if '/materials/' in request.path %}{% endif %}"><i class="fa-solid fa-book"></i> Ø§Ù„Ù…ÙˆØ§Ø¯</a>
    <a href="{% url 'students_page' %}" class="{% if '/students/' in request.path %}{% endif %}"><i class="fa-solid fa-user-graduate"></i> Ø§Ù„Ø·Ù„Ø§Ø¨</a>
    <a href="{% url 'sections_page' %}" class="{% if '/sections' in request.path %}active{% endif %}"><i class="fa-solid fa-layer-group"></i> Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a>
    <a href="#"><i class="fa-solid fa-chart-line"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a>
</div>

<div class="main-content">
    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ø© Ø³ÙˆÙŠØ¨ ğŸ‘‹</h1>
    <p>Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:</p>

    <div class="cards">
        <div class="card">
            <i class="fa-solid fa-user-graduate"></i>
            <h2>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
            <p>120</p>
        </div>
        <div class="card">
            <i class="fa-solid fa-book"></i>
            <h2>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯</h2>
            <p>35</p>
        </div>
        <div class="card">
            <i class="fa-solid fa-clipboard-list"></i>
            <h2>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª</h2>
            <p>280</p>
        </div>
        <div class="card">
            <i class="fa-solid fa-user-tie"></i>
            <h2>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</h2>
            <p>5</p>
        </div>
    </div>

    <div class="charts">
        <canvas id="studentsChart"></canvas>
    </div>

    <div class="recent-activity">
        <h3>Ø¢Ø®Ø± Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
        <table>
            <thead>
                <tr><th>#</th><th>Ø§Ù„Ù†Ø´Ø§Ø·</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ "Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ"</td><td>23/10/2025</td></tr>
                <tr><td>2</td><td>ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© "Ø±ÙŠØ§Ø¶ÙŠØ§Øª 101"</td><td>22/10/2025</td></tr>
                <tr><td>3</td><td> Ø§Ù„Ù…Ø´Ø±Ù "Ø³Ø¹ÙŠØ¯" Ø¹Ø¯Ù‘Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡</td><td>21/10/2025</td></tr>
            </tbody>
        </table>
    </div>
</div>

<script>
var ctx = document.getElementById('studentsChart').getContext('2d');
var studentsChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Ù‚Ø³Ù… A', 'Ù‚Ø³Ù… B', 'Ù‚Ø³Ù… C'],
        datasets: [{
            label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨',
            data: [50, 30, 40],
            backgroundColor: ['#2563eb','#3b82f6','#60a5fa']
        }]
    },
    options: { responsive:true, maintainAspectRatio:false }
});
</script>
</body>
</html>